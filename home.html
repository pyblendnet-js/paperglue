<!doctype html>
<html>
<head>
  <meta content="text/html;charset=utf-8" http-equiv="Content-Type">
  <meta content="utf-8" http-equiv="encoding">
  <!-- Load the Paper.js library -->
  <script type="text/javascript" src="js/paper.js"></script>
  <script>  window.globals = { }; // for interscope comms </script> 
  <script type="text/javascript" src="js/nodeComms.js"></script>
  <!-- Load external PaperScript and associate it with myCanvas -->
  <script type="text/paperscript" src="js/paperglue.js" canvas="myCanvas">
  </script>
  <script type="text/paperscript" src="js/myScript.js" canvas="myCanvas">
  <!-- should have the same scope as per https://github.com/paperjs/paper.js/issues/153 -->
  </script>
  <script>  // type="text/paperscript" canvas="myCanvas">

    function showPaper() {
      console.log("paper="+paper);
      console.log("paper.projects[0]="+paper.projects[0]);
      console.log("paper.tools[0]="+paper.tools[0]);
    }
    function hideCanvas() {
      var canvas = document.getElementById('myCanvas');
      // if(canvas.style.visibility == "collapse")
      //   canvas.style.visibility = "visible";
      // else
      //   canvas.style.visibility = "collapse";
      if(canvas.style.display == "none")
        canvas.style.display = "inline";
      else
        canvas.style.display = "none";
    }

  function onload() {
    console.log("body loaded");
    console.log(Object.keys(window.globals) ); //.onload();  //no use since it may not be added to globals yet
    //myScriptInit();
  }
  </script>
  <style>
      .button {
        color: white;
        background-color: black;
      }
    </style>
</head>
<body id="body" onload="onload();" >
  <button type="button" onclick="showPaper();" class="button" width="300">Show paper scope</button>
  <button type="button" onclick="hideCanvas();" class="button" width="300">hide Canvas</button>
  <!--<image src="img/verodes.png"/>-->
  <canvas id="myCanvas" resize></canvas>
  <p>The END</p>
  <div style="display:none; " id="contextMenu">
    <table  border="0" cellpadding="0" cellspacing="0"
    style="border: thin solid #808080; cursor: default; white-space: nowrap" width="100px"
    bgcolor="White">
    <!-- <tr>
      <td >
        <div  class="ContextItem">View</div>
      </td>
    </tr>
    <tr>
      <td >
        <div  class="ContextItem">Edit</div>
      </td>
    </tr>
    <tr>
      <td >
        <div  class="ContextItem">Delete</div>
      </td>
    </tr> -->
    </table>
</div>
</body>
</html>
